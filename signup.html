<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    
    <title>Restaurant Review App - Sign Up</title>
</head>
<body>

    <input id="emailField" type="text" placeholder="johndoe@email.com">
    <br>
    <input id="passwordField" type="password" placeholder="Create a password">
    <br>
    <!--
    <input id="passwordConfirmationField" type="text" placeholder="Enter your password again">
    -->
    <br>
    <button id="registerButton" type="button" onclick="createAccount(emailField, passwordField)">Register!</button>

    
</body>


<!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>

  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-analytics.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>

  <script>
      // DOM Elements

      const emailField = document.getElementById("emailField");
      const passwordField = document.getElementById("passwordField");
      //const passwordConfirmationField = document.getElementById("passwordConfirmationField")
      const registerButton = document.getElementById("registerButton");        



    // TODO: Replace the following with your app's Firebase project configuration
    // For Firebase JavaScript SDK v7.20.0 and later, `measurementId` is an optional field
    var firebaseConfig = {
        apiKey: "AIzaSyDAROsN8zZlUjXlyu1wB0D58yv_TP75ZWc",
        authDomain: "tutorial-47d32.firebaseapp.com",
        projectId: "tutorial-47d32",
        storageBucket: "tutorial-47d32.appspot.com",
        messagingSenderId: "692836133513",
        appId: "1:692836133513:web:237b16dd7c82ed9829f458"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // Account creation
function createAccount(emailField, passwordField){
    const email = emailField.value;
    const password = passwordField.value;
    console.log("Email: " + email, "Password: " + password)

    firebase
    .auth()
    .createUserWithEmailAndPassword(email, password) // email, password
    .then((userCredential) => {
      // Signed in
      var user = userCredential.user;
      // ...
      console.log(user); // check the console to see what data we get back about the user
    })
    .catch((error) => {
      var errorCode = error.code;
      var errorMessage = error.message;
      console.log(error);
    });
}
</script>
</html>
